# 網頁GET
from urllib.request import urlopen
from bs4 import BeautifulSoup
from urllib.error import HTTPError
start_page = 1
while True:
    url = "https://tabelog.com/tw/tokyo/rstLst/" + str(start_page) + "/?SrtT=rt"
    print(url)
    try:
        response = urlopen(url)
    except HTTPError:
        print("好像結束了, 就此break")
        break
    html = BeautifulSoup(response)

    restaurants = html.find_all("li", {"class":"list-rst"})
    for single_restaurant in restaurants:
        a_area = single_restaurant.find("a", {"class":"list-rst__name-main"})
        ja_name = single_restaurant.find("small", {"class":"list-rst__name-ja"}).text
        rating = single_restaurant.find("b", {"class":"c-rating__val"}).text
        print(a_area.text, ja_name, a_area["href"], rating)

    start_page = start_page + 1
